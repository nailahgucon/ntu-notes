<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Data Structures and Algorithms</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/prism-coy-without-shadows.css">
  <script src="https://kit.fontawesome.com/b99e675b6e.js"></script>
</head>
<body>
<main>
<div class="wrapper">
    <div class="sidebar">
        <h2><a href="/" style="color:#fff;">Modules</a></h2>
        <ul>
            <li>
            <a href="/notes/intro-to-comp-thinking-and-programming/c-programming/" class="modname">Intro to Computational Thinking & Programming</a>
            </li>
            <li>
            <a href="/notes/data-structures-and-algorithms/" class="modname">Data Structures & Algorithms</a>
            <a class="accordion"><i class="fas fa-chevron-down"></i></a>
            <div class="panel" style="display:none;">
            <a href="/notes/data-structures-and-algorithms/data-structures/" class="panel-a">Data Structures</a>
            <a href="/notes/data-structures-and-algorithms/algorithms/" class="panel-a">Algorithms</a>
            </div>
            </li>
            <li>
            <a href="/notes/data-science-and-ai/" class="modname">Data Science & AI</a>
            <a class="accordion"><i class="fas fa-chevron-down"></i></a>
            <div class="panel" style="display:none;">
            <a href="/notes/data-science-and-ai/data-science/" class="panel-a">Data Science</a>
            <a href="/notes/data-science-and-ai/ai/" class="panel-a">Aritificial Intelligence</a>
            </div>
            </li>
            <li>
            <a href="/notes/computer-organization-and-architecture/" class="modname">Computer Organisation & Architecture</a>
            <a class="accordion longmodname"><i class="fas fa-chevron-down"></i></a>
            <div class="panel" style="display:none;">
            <a href="/notes/computer-organization-and-architecture/first-half/" class="panel-a">First Half</a>
            <a href="/notes/computer-organization-and-architecture/second-half/" class="panel-a">Second Half</a>
            </div>
            </li>
            <li>
            <a href="/notes/linear-algebra-for-computing/" class="modname">Linear Algebra for Computing</a>
            <a class="accordion"><i class="fas fa-chevron-down"></i></a>
            <div class="panel" style="display:none;">
            <a href="/notes/linear-algebra-for-computing/labs/" class="panel-a">Labs</a>
            <a href="/notes/linear-algebra-for-computing/written-notes/" class="panel-a">Written Notes</a>
            </div>
            </li>
            <li>
            <a href="/notes/manufacturing-processes/" class="modname">Manufacturing Processes</a>
            <a class="accordion"><i class="fas fa-chevron-down"></i></a>
            <div class="panel" style="display:none;">
            <a href="/notes/manufacturing-processes/cheatsheets/" class="panel-a">Cheatsheets</a>
            <a href="/notes/manufacturing-processes/written-notes/" class="panel-a">PDF Notes</a>
            </div>
            </li>
        </ul> 
    </div>
    <div class="main_content">
        
        <a id="top"></a>
        <div class="header">Nailah's Notes Blog<a href="/" id="home"><i class="fas fa-home"></i></a></div>
        <div class="info">
          <h2>Coalesced Hashing</h2>
<p><span class="tags"><a href="#">Hashing</a></span>
<span class="tags"><a href="#">Assignment</a></span></p>
<hr>
<p>Coalesced hashing is a combination of closed addressing and linear probing. Each slot is not only storing the key, but also the link (index) to the next slot. The structure of hash slots is given below.
<br><br>
<span class="functions">
enum Marker {EMPTY , USED };<br>
<br>
typedef struct _slot {<br>
    int key;<br>
    enum Marker indicator;<br>
    int next;<br>
} HashSlot;
</span>
<br><br></p>
<p><strong>The insertion and searching function prototypes are given as follows:</strong></p>
<span class="functions">
int HashInsert (int key , HashSlot hashTable []) ;<br>
int HashFind ( int key , HashSlot hashTable []) ;
</span>
<br><br>
Both functions' return value is an index of the slot where the key is inserted and searched respectively.<br>
For insertion function, inserting a duplicate key will return -1. Return value larger than the table size implies that the table is full. For searching function, finding an non-existing key will return -1.<br>
<br>
<img src = "/images/hashing-coalesced-hashing.JPG" class="diagrams">
<br>
<pre class="language-c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><br><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">TABLESIZE</span> <span class="token expression"><span class="token number">37</span></span></span><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">PRIME</span>     <span class="token expression"><span class="token number">13</span></span></span><br><br><span class="token keyword">enum</span> <span class="token class-name">Marker</span> <span class="token punctuation">{</span>EMPTY<span class="token punctuation">,</span>USED<span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_slot</span><span class="token punctuation">{</span><br>    <span class="token keyword">int</span> key<span class="token punctuation">;</span><br>    <span class="token keyword">enum</span> <span class="token class-name">Marker</span> indicator<span class="token punctuation">;</span><br>    <span class="token keyword">int</span> next<span class="token punctuation">;</span><br><span class="token punctuation">}</span> HashSlot<span class="token punctuation">;</span><br><br><span class="token keyword">int</span> <span class="token function">HashInsert</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> HashSlot hashTable<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">int</span> <span class="token function">HashFind</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> HashSlot hashTable<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">int</span> <span class="token function">hash</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span><br><span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token punctuation">(</span>key <span class="token operator">%</span> TABLESIZE<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token punctuation">{</span><br>    <span class="token keyword">int</span> opt<span class="token punctuation">;</span><br>    <span class="token keyword">int</span> i<span class="token punctuation">;</span><br>    <span class="token keyword">int</span> key<span class="token punctuation">;</span><br>    <span class="token keyword">int</span> index<span class="token punctuation">;</span><br>    HashSlot hashTable<span class="token punctuation">[</span>TABLESIZE<span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>TABLESIZE<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        hashTable<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><br>        hashTable<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>key <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>        hashTable<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>indicator <span class="token operator">=</span> EMPTY<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"============= Hash Table ============\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"|1. Insert a key to the hash table  |\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"|2. Search a key in the hash table  |\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"|3. Print the hash table            |\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"|4. Quit                            |\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"=====================================\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Enter selection: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>opt<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">while</span><span class="token punctuation">(</span>opt<span class="token operator">>=</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> opt <span class="token operator">&lt;=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">switch</span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span><br>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Enter a key to be inserted:\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span><br>            index <span class="token operator">=</span> <span class="token function">HashInsert</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>hashTable<span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token keyword">if</span><span class="token punctuation">(</span>index <span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span><br>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Duplicate key\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>index <span class="token operator">&lt;</span> TABLESIZE<span class="token punctuation">)</span><br>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Insert %d at index %d\n"</span><span class="token punctuation">,</span>key<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token keyword">else</span><br>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Table is full.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token keyword">break</span><span class="token punctuation">;</span><br>        <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span><br>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Enter a key for searching in the HashTable:\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span><br>            index <span class="token operator">=</span> <span class="token function">HashFind</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> hashTable<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>            <span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><br>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d is found at index %d.\n"</span><span class="token punctuation">,</span>key<span class="token punctuation">,</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token keyword">else</span><br>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d is not found.\n"</span><span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token keyword">break</span><span class="token punctuation">;</span><br><br>        <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span><br>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"index:\t key \t next\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>TABLESIZE<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\t%d\t%d\n"</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span> hashTable<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>key<span class="token punctuation">,</span>hashTable<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token keyword">break</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Enter selection: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>opt<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">int</span> <span class="token function">HashInsert</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> HashSlot hashTable<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><br><span class="token punctuation">{</span><br>    <span class="token keyword">int</span> index<span class="token punctuation">,</span> temp<span class="token punctuation">;</span> <br>    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>    index <span class="token operator">=</span> <span class="token function">hash</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">if</span><span class="token punctuation">(</span>hashTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>indicator <span class="token operator">==</span> EMPTY<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        hashTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key<span class="token punctuation">;</span><br>        hashTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>indicator <span class="token operator">=</span> USED<span class="token punctuation">;</span><br>        <span class="token keyword">return</span> index<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>hashTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>key <span class="token operator">==</span> key<span class="token punctuation">)</span><br>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><br><br>        <span class="token keyword">while</span><span class="token punctuation">(</span>hashTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>next <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>            <span class="token keyword">if</span><span class="token punctuation">(</span>hashTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>key <span class="token operator">==</span> key<span class="token punctuation">)</span><br>                <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><br>            index <span class="token operator">=</span> hashTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>next<span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br><br>        <span class="token keyword">if</span><span class="token punctuation">(</span>hashTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>key <span class="token operator">==</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        temp <span class="token operator">=</span> index<span class="token punctuation">;</span><br>        index <span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">;</span><br>        index <span class="token operator">=</span> <span class="token function">hash</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><br>        <span class="token keyword">while</span><span class="token punctuation">(</span>hashTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>indicator <span class="token operator">!=</span> EMPTY<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token keyword">if</span><span class="token punctuation">(</span>count <span class="token operator">></span> TABLESIZE<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token keyword">return</span> count<span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>            index <span class="token operator">=</span> <span class="token function">hash</span><span class="token punctuation">(</span><span class="token operator">++</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span><br>            count<span class="token operator">++</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        hashTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key<span class="token punctuation">;</span><br>        hashTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>indicator <span class="token operator">=</span> USED<span class="token punctuation">;</span><br>        hashTable<span class="token punctuation">[</span>temp<span class="token punctuation">]</span><span class="token punctuation">.</span>next <span class="token operator">=</span> index<span class="token punctuation">;</span><br>        <span class="token keyword">return</span> index<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">int</span> <span class="token function">HashFind</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> HashSlot hashTable<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><br><span class="token punctuation">{</span><br>    <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token function">hash</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token comment">// while(hashTable[i].next != NULL){</span><br>    <span class="token keyword">while</span><span class="token punctuation">(</span>hashTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>next <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token comment">// printf("check");</span><br>        <span class="token keyword">if</span><span class="token punctuation">(</span>hashTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>indicator <span class="token operator">==</span> USED <span class="token operator">&amp;&amp;</span> hashTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>key <span class="token operator">==</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token keyword">return</span> index<span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        index <span class="token operator">=</span> hashTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>next<span class="token punctuation">;</span> <br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">if</span><span class="token punctuation">(</span>hashTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>indicator <span class="token operator">==</span> USED <span class="token operator">&amp;&amp;</span> hashTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>key <span class="token operator">==</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> index<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>

        <div class="back-to-top tags"><a href="#top">Back to top</a></div>
      </div>

      
    </div>
</div>
</main>
<script>
var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.display === "block") {
      panel.style.display = "none";
    } else {
      panel.style.display = "block";
    }
  });
}

const openBtn = document.getElementById('openModalBtn');
const closeBtn = document.getElementById('closeModalBtn');
const modal = document.getElementById('modal');

openBtn.addEventListener('click', () => {
	modal.classList.add('open');
});

closeBtn.addEventListener('click', () => {
	modal.classList.remove('open');
});
</script>

</body>
</html>